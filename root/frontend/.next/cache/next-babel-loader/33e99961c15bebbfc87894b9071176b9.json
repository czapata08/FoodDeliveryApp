{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/carloszapata/Desktop/CAPSTONE/setting-up-graphql-with-apollo_starter/frontend/pages/login.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* /pages/login.js */\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Container, Row, Col, Button, Form, FormGroup, Label, Input } from \"reactstrap\";\nimport { useAuth } from \"../lib/auth2\";\nimport AppContext from \"../components/context\";\n\nfunction Login(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState({\n    identifier: \"\",\n    password: \"\"\n  }),\n      data = _useState[0],\n      updateData = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      error = _useState3[0],\n      setError = _useState3[1];\n\n  var router = useRouter(); // let { user, setUser, isAuthenticated } = useContext(AppContext);\n\n  var _useAuth = useAuth(),\n      login = _useAuth.login; // useEffect(() => {\n  //   if (isAuthenticated) {\n  //     router.push(\"/\"); // redirect if you're already logged in\n  //   }\n  // }, []);\n\n\n  function _onChange(event) {\n    updateData(_objectSpread(_objectSpread({}, data), {}, _defineProperty({}, event.target.name, event.target.value)));\n  }\n\n  function submitLogin() {\n    setLoading(true);\n    login(data.identifier, data.password).then(function (res) {\n      setLoading(false); // set authed User in global context to update header/app state\n      // setUser(res.data.user);\n      // setUser((user = res.data.user));\n\n      console.log(\"DATA FROM STRAPPI \".concat(JSON.stringify(res.data)));\n      console.log(\"USER = \".concat(JSON.stringify(user)));\n    })[\"catch\"](function (error) {\n      setError(error);\n      setLoading(false);\n    });\n  }\n\n  return __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    sm: \"12\",\n    md: {\n      size: 5,\n      offset: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1470127334\" + \" \" + 'paper',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-1470127334\" + \" \" + 'header',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"http://localhost:1337/uploads/5a60a9d26a764e7cba1099d8b157b5e9.png\",\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), __jsx(\"section\", {\n    className: \"jsx-1470127334\" + \" \" + 'wrapper',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, Object.entries(error).length !== 0 && error.constructor === Object && error.message.map(function (error) {\n    return __jsx(\"div\", {\n      key: error.messages[0].id,\n      style: {\n        marginBottom: 10\n      },\n      className: \"jsx-1470127334\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, __jsx(\"small\", {\n      style: {\n        color: \"red\"\n      },\n      className: \"jsx-1470127334\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }, error.messages[0].message));\n  }), __jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, __jsx(\"fieldset\", {\n    disabled: loading,\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 19\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, \"Email:\"), __jsx(Input, {\n    onChange: function onChange(event) {\n      return _onChange(event);\n    },\n    name: \"identifier\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  })), __jsx(FormGroup, {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"Password:\"), __jsx(Input, {\n    onChange: function onChange(event) {\n      return _onChange(event);\n    },\n    type: \"password\",\n    name: \"password\",\n    style: {\n      height: 50,\n      fontSize: \"1.2em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  })), __jsx(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, __jsx(\"span\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"\",\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }\n  }, __jsx(\"small\", {\n    className: \"jsx-1470127334\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, \"Forgot Password?\"))), __jsx(Button, {\n    style: {\n      \"float\": \"right\",\n      width: 120\n    },\n    color: \"primary\",\n    onClick: function onClick(e) {\n      return submitLogin();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, loading ? \"Loading... \" : \"Submit\")))))))), __jsx(_JSXStyle, {\n    id: \"1470127334\",\n    __self: this\n  }, \".paper.jsx-1470127334{border:1px solid lightgray;box-shadow:0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12);border-radius:6px;margin-top:90px;}.notification.jsx-1470127334{color:#ab003c;}.header.jsx-1470127334{width:100%;height:120px;background-color:#2196f3;margin-bottom:30px;border-radius-top:6px;}.wrapper.jsx-1470127334{padding:10px 30px 20px 30px !important;}a.jsx-1470127334{color:blue !important;}img.jsx-1470127334{margin:15px 30px 10px 50px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYXJsb3N6YXBhdGEvRGVza3RvcC9DQVBTVE9ORS9zZXR0aW5nLXVwLWdyYXBocWwtd2l0aC1hcG9sbG9fc3RhcnRlci9mcm9udGVuZC9wYWdlcy9sb2dpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFvSFMsQUFHd0MsQUFRYixBQUdILEFBTzRCLEFBR2pCLEFBR0ssV0FaZCxHQUhmLFFBYUEsRUFUMkIsR0FWYSxBQXNCeEMsWUFOQSxVQUxxQixtQkFDRyxzQkFDeEIsaURBWm9CLGtCQUNGLGdCQUNsQiIsImZpbGUiOiIvVXNlcnMvY2FybG9zemFwYXRhL0Rlc2t0b3AvQ0FQU1RPTkUvc2V0dGluZy11cC1ncmFwaHFsLXdpdGgtYXBvbGxvX3N0YXJ0ZXIvZnJvbnRlbmQvcGFnZXMvbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAvcGFnZXMvbG9naW4uanMgKi9cblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHtcbiAgQ29udGFpbmVyLFxuICBSb3csXG4gIENvbCxcbiAgQnV0dG9uLFxuICBGb3JtLFxuICBGb3JtR3JvdXAsXG4gIExhYmVsLFxuICBJbnB1dCxcbn0gZnJvbSBcInJlYWN0c3RyYXBcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi4vbGliL2F1dGgyXCI7XG5pbXBvcnQgQXBwQ29udGV4dCBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250ZXh0XCI7XG5cbmZ1bmN0aW9uIExvZ2luKHByb3BzKSB7XG4gIGNvbnN0IFtkYXRhLCB1cGRhdGVEYXRhXSA9IHVzZVN0YXRlKHsgaWRlbnRpZmllcjogXCJcIiwgcGFzc3dvcmQ6IFwiXCIgfSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICAvLyBsZXQgeyB1c2VyLCBzZXRVc2VyLCBpc0F1dGhlbnRpY2F0ZWQgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gIGNvbnN0IHsgbG9naW4gfSA9IHVzZUF1dGgoKTtcblxuICAvLyB1c2VFZmZlY3QoKCkgPT4ge1xuICAvLyAgIGlmIChpc0F1dGhlbnRpY2F0ZWQpIHtcbiAgLy8gICAgIHJvdXRlci5wdXNoKFwiL1wiKTsgLy8gcmVkaXJlY3QgaWYgeW91J3JlIGFscmVhZHkgbG9nZ2VkIGluXG4gIC8vICAgfVxuICAvLyB9LCBbXSk7XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoZXZlbnQpIHtcbiAgICB1cGRhdGVEYXRhKHsgLi4uZGF0YSwgW2V2ZW50LnRhcmdldC5uYW1lXTogZXZlbnQudGFyZ2V0LnZhbHVlIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3VibWl0TG9naW4oKSB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBsb2dpbihkYXRhLmlkZW50aWZpZXIsIGRhdGEucGFzc3dvcmQpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAvLyBzZXQgYXV0aGVkIFVzZXIgaW4gZ2xvYmFsIGNvbnRleHQgdG8gdXBkYXRlIGhlYWRlci9hcHAgc3RhdGVcbiAgICAgICAgLy8gc2V0VXNlcihyZXMuZGF0YS51c2VyKTtcbiAgICAgICAgLy8gc2V0VXNlcigodXNlciA9IHJlcy5kYXRhLnVzZXIpKTtcbiAgICAgICAgY29uc29sZS5sb2coYERBVEEgRlJPTSBTVFJBUFBJICR7SlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgVVNFUiA9ICR7SlNPTi5zdHJpbmdpZnkodXNlcil9YCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBzZXRFcnJvcihlcnJvcik7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDb250YWluZXI+XG4gICAgICA8Um93PlxuICAgICAgICA8Q29sXG4gICAgICAgICAgc209JzEyJ1xuICAgICAgICAgIG1kPXt7IHNpemU6IDUsIG9mZnNldDogMyB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ncGFwZXInPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2hlYWRlcic+XG4gICAgICAgICAgICAgIDxpbWcgc3JjPSdodHRwOi8vbG9jYWxob3N0OjEzMzcvdXBsb2Fkcy81YTYwYTlkMjZhNzY0ZTdjYmExMDk5ZDhiMTU3YjVlOS5wbmcnIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT0nd3JhcHBlcic+XG4gICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhlcnJvcikubGVuZ3RoICE9PSAwICYmXG4gICAgICAgICAgICAgICAgZXJyb3IuY29uc3RydWN0b3IgPT09IE9iamVjdCAmJlxuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UubWFwKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17ZXJyb3IubWVzc2FnZXNbMF0uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAxMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgc3R5bGU9e3sgY29sb3I6IFwicmVkXCIgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXJyb3IubWVzc2FnZXNbMF0ubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NtYWxsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDxGb3JtPlxuICAgICAgICAgICAgICAgIDxmaWVsZHNldCBkaXNhYmxlZD17bG9hZGluZ30+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8TGFiZWw+RW1haWw6PC9MYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudCkgPT4gb25DaGFuZ2UoZXZlbnQpfVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9J2lkZW50aWZpZXInXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiA1MCwgZm9udFNpemU6IFwiMS4yZW1cIiB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMzAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxMYWJlbD5QYXNzd29yZDo8L0xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBvbkNoYW5nZShldmVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT0ncGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT0ncGFzc3dvcmQnXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiA1MCwgZm9udFNpemU6IFwiMS4yZW1cIiB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICAgICAgICAgIDxGb3JtR3JvdXA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Jyc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c21hbGw+Rm9yZ290IFBhc3N3b3JkPzwvc21hbGw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmbG9hdDogXCJyaWdodFwiLCB3aWR0aDogMTIwIH19XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I9J3ByaW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHN1Ym1pdExvZ2luKCl9PlxuICAgICAgICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gXCJMb2FkaW5nLi4uIFwiIDogXCJTdWJtaXRcIn1cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L0Zvcm1Hcm91cD5cbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgICA8L0Zvcm0+XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgICA8c3R5bGUganN4PlxuICAgICAgICB7YFxuICAgICAgICAgIC5wYXBlciB7XG4gICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMXB4IDNweCAwcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxuICAgICAgICAgICAgICAwcHggMXB4IDFweCAwcHggcmdiYSgwLCAwLCAwLCAwLjE0KSxcbiAgICAgICAgICAgICAgMHB4IDJweCAxcHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogOTBweDtcbiAgICAgICAgICB9XG4gICAgICAgICAgLm5vdGlmaWNhdGlvbiB7XG4gICAgICAgICAgICBjb2xvcjogI2FiMDAzYztcbiAgICAgICAgICB9XG4gICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTIwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjE5NmYzO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXMtdG9wOiA2cHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIC53cmFwcGVyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMzBweCAyMHB4IDMwcHggIWltcG9ydGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYSB7XG4gICAgICAgICAgICBjb2xvcjogYmx1ZSAhaW1wb3J0YW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbWcge1xuICAgICAgICAgICAgbWFyZ2luOiAxNXB4IDMwcHggMTBweCA1MHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgYH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2luO1xuIl19 */\\n/*@ sourceURL=/Users/carloszapata/Desktop/CAPSTONE/setting-up-graphql-with-apollo_starter/frontend/pages/login.js */\"));\n}\n\n_s(Login, \"VJyM+GybihvAFiyTVU0+Skefq0U=\", false, function () {\n  return [useRouter, useAuth];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/carloszapata/Desktop/CAPSTONE/setting-up-graphql-with-apollo_starter/frontend/pages/login.js"],"names":["React","useState","useEffect","useContext","useRouter","Container","Row","Col","Button","Form","FormGroup","Label","Input","useAuth","AppContext","Login","props","identifier","password","data","updateData","loading","setLoading","error","setError","router","login","onChange","event","target","name","value","submitLogin","then","res","console","log","JSON","stringify","user","size","offset","Object","entries","length","constructor","message","map","messages","id","marginBottom","color","height","fontSize","width","e"],"mappings":"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","sourcesContent":["/* /pages/login.js */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useRouter } from \"next/router\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n} from \"reactstrap\";\nimport { useAuth } from \"../lib/auth2\";\nimport AppContext from \"../components/context\";\n\nfunction Login(props) {\n  const [data, updateData] = useState({ identifier: \"\", password: \"\" });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const router = useRouter();\n  // let { user, setUser, isAuthenticated } = useContext(AppContext);\n  const { login } = useAuth();\n\n  // useEffect(() => {\n  //   if (isAuthenticated) {\n  //     router.push(\"/\"); // redirect if you're already logged in\n  //   }\n  // }, []);\n\n  function onChange(event) {\n    updateData({ ...data, [event.target.name]: event.target.value });\n  }\n\n  function submitLogin() {\n    setLoading(true);\n    login(data.identifier, data.password)\n      .then((res) => {\n        setLoading(false);\n        // set authed User in global context to update header/app state\n        // setUser(res.data.user);\n        // setUser((user = res.data.user));\n        console.log(`DATA FROM STRAPPI ${JSON.stringify(res.data)}`);\n        console.log(`USER = ${JSON.stringify(user)}`);\n      })\n      .catch((error) => {\n        setError(error);\n        setLoading(false);\n      });\n  }\n\n  return (\n    <Container>\n      <Row>\n        <Col\n          sm='12'\n          md={{ size: 5, offset: 3 }}>\n          <div className='paper'>\n            <div className='header'>\n              <img src='http://localhost:1337/uploads/5a60a9d26a764e7cba1099d8b157b5e9.png' />\n            </div>\n            <section className='wrapper'>\n              {Object.entries(error).length !== 0 &&\n                error.constructor === Object &&\n                error.message.map((error) => {\n                  return (\n                    <div\n                      key={error.messages[0].id}\n                      style={{ marginBottom: 10 }}>\n                      <small style={{ color: \"red\" }}>\n                        {error.messages[0].message}\n                      </small>\n                    </div>\n                  );\n                })}\n              <Form>\n                <fieldset disabled={loading}>\n                  <FormGroup>\n                    <Label>Email:</Label>\n                    <Input\n                      onChange={(event) => onChange(event)}\n                      name='identifier'\n                      style={{ height: 50, fontSize: \"1.2em\" }}\n                    />\n                  </FormGroup>\n                  <FormGroup style={{ marginBottom: 30 }}>\n                    <Label>Password:</Label>\n                    <Input\n                      onChange={(event) => onChange(event)}\n                      type='password'\n                      name='password'\n                      style={{ height: 50, fontSize: \"1.2em\" }}\n                    />\n                  </FormGroup>\n\n                  <FormGroup>\n                    <span>\n                      <a href=''>\n                        <small>Forgot Password?</small>\n                      </a>\n                    </span>\n                    <Button\n                      style={{ float: \"right\", width: 120 }}\n                      color='primary'\n                      onClick={(e) => submitLogin()}>\n                      {loading ? \"Loading... \" : \"Submit\"}\n                    </Button>\n                  </FormGroup>\n                </fieldset>\n              </Form>\n            </section>\n          </div>\n        </Col>\n      </Row>\n      <style jsx>\n        {`\n          .paper {\n            border: 1px solid lightgray;\n            box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n              0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n              0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n            border-radius: 6px;\n            margin-top: 90px;\n          }\n          .notification {\n            color: #ab003c;\n          }\n          .header {\n            width: 100%;\n            height: 120px;\n            background-color: #2196f3;\n            margin-bottom: 30px;\n            border-radius-top: 6px;\n          }\n          .wrapper {\n            padding: 10px 30px 20px 30px !important;\n          }\n          a {\n            color: blue !important;\n          }\n          img {\n            margin: 15px 30px 10px 50px;\n          }\n        `}\n      </style>\n    </Container>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}